<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LibQuicR: moq::PublishTrackHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LibQuicR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classmoq_1_1_publish_track_handler.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classmoq_1_1_publish_track_handler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">moq::PublishTrackHandler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>MOQ track handler for published track.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="publish__track__handler_8h_source.html">publish_track_handler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for moq::PublishTrackHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classmoq_1_1_publish_track_handler.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a30b4175fceffdb5445858f6c0b3b5b02" id="r_a30b4175fceffdb5445858f6c0b3b5b02"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">PublishObjectStatus</a> : uint8_t { <br />
&#160;&#160;<a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02ae69fa9a656f76dd8a4d89f21992b2d3a">kOk</a> = 0
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02afcd417a134c251034b0d61b07c826394">kInternalError</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a94d644150606feeb2501ae2801a617ed">kNotAuthorized</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a0aacc8d02db06999d93256fad11a0f91">kNotAnnounced</a>
, <br />
&#160;&#160;<a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a029c756c36d0d64ad37d82fdd25135ad">kNoSubscribers</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a7f270eac08c2051777675fb3d19c4907">kObjectPayloadLengthExceeded</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a8a8092b44ca2f3d0e02013ab991d0ec2">kPreviousObjectTruncated</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a05b3e664bc3465982f33d4a02e0e903b">kNoPreviousObject</a>
, <br />
&#160;&#160;<a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a9a145f4e212bb020d888fa7df22c92b3">kObjectDataComplete</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a161afdbbfaed9cf4e4c14abc4f3a7cf7">kObjectContinuationDataNeeded</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a29bc6ab59d21091c424ae5e9a036b1b3">kObjectDataIncomplete</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02aa6997d7faf893c343835acd339b724d3">kObjectDataTooLarge</a>
, <br />
&#160;&#160;<a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02ac87ef4310cf44057c582f1fdb9e9eb1d">kPreviousObjectNotCompleteMustStartNewGroup</a>
, <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02a9c12d1b02e769f07c2b4f43ca50b02d5">kPreviousObjectNotCompleteMustStartNewTrack</a>
<br />
 }</td></tr>
<tr class="memdesc:a30b4175fceffdb5445858f6c0b3b5b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish status codes.  <a href="#a30b4175fceffdb5445858f6c0b3b5b02">More...</a><br /></td></tr>
<tr class="separator:a30b4175fceffdb5445858f6c0b3b5b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95430826d3fdcf1d3bd249af5c6236ab" id="r_a95430826d3fdcf1d3bd249af5c6236ab"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">Status</a> : uint8_t { <br />
&#160;&#160;<a class="el" href="#a95430826d3fdcf1d3bd249af5c6236abab8c5bbba307a5b38f6a1474fbf23dddd">kOK</a> = 0
, <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236aba32a54fa8629fe6e9cb3e265e959258d8">kNotConnected</a>
, <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236aba0aacc8d02db06999d93256fad11a0f91">kNotAnnounced</a>
, <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236abad16e5c0773211b3d591e160d6e4dfbce">kPendingAnnounceResponse</a>
, <br />
&#160;&#160;<a class="el" href="#a95430826d3fdcf1d3bd249af5c6236abac1e877c9c6c8271ff158221905113d7b">kAnnounceNotAuthorized</a>
, <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236aba029c756c36d0d64ad37d82fdd25135ad">kNoSubscribers</a>
, <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236aba6473b74b448bc158ffb66542042c88b3">kSendingUnannounce</a>
<br />
 }</td></tr>
<tr class="memdesc:a95430826d3fdcf1d3bd249af5c6236ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status codes for the publish track.  <a href="#a95430826d3fdcf1d3bd249af5c6236ab">More...</a><br /></td></tr>
<tr class="separator:a95430826d3fdcf1d3bd249af5c6236ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a43781943bf95f82a6891f0cadbe105ed" id="r_a43781943bf95f82a6891f0cadbe105ed"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43781943bf95f82a6891f0cadbe105ed">StatusChanged</a> (<a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">Status</a> status)</td></tr>
<tr class="memdesc:a43781943bf95f82a6891f0cadbe105ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification of publish track status change.  <br /></td></tr>
<tr class="separator:a43781943bf95f82a6891f0cadbe105ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a360e359a5ad9c709008d754b2131f205" id="r_a360e359a5ad9c709008d754b2131f205"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a360e359a5ad9c709008d754b2131f205">MetricsSampled</a> (const <a class="el" href="structmoq_1_1_publish_track_metrics.html">PublishTrackMetrics</a> &amp;&amp;metrics)</td></tr>
<tr class="memdesc:a360e359a5ad9c709008d754b2131f205"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notification callback to provide sampled metrics.  <br /></td></tr>
<tr class="separator:a360e359a5ad9c709008d754b2131f205"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b42ae4e15ba1442d1a9e7a364be6e35" id="r_a3b42ae4e15ba1442d1a9e7a364be6e35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b42ae4e15ba1442d1a9e7a364be6e35">SetDefaultPriority</a> (const uint8_t priority) noexcept</td></tr>
<tr class="memdesc:a3b42ae4e15ba1442d1a9e7a364be6e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">set/update the default priority for published objects  <br /></td></tr>
<tr class="separator:a3b42ae4e15ba1442d1a9e7a364be6e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dcd70557b7316eb90a55a5c7d711c12" id="r_a3dcd70557b7316eb90a55a5c7d711c12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dcd70557b7316eb90a55a5c7d711c12">SetDefaultTTL</a> (const uint32_t ttl) noexcept</td></tr>
<tr class="memdesc:a3dcd70557b7316eb90a55a5c7d711c12"><td class="mdescLeft">&#160;</td><td class="mdescRight">set/update the default TTL expiry for published objects  <br /></td></tr>
<tr class="separator:a3dcd70557b7316eb90a55a5c7d711c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7180b4eb6f0dd55e0877654c4a5b175f" id="r_a7180b4eb6f0dd55e0877654c4a5b175f"><td class="memItemLeft" align="right" valign="top">constexpr <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7180b4eb6f0dd55e0877654c4a5b175f">GetStatus</a> () const noexcept</td></tr>
<tr class="memdesc:a7180b4eb6f0dd55e0877654c4a5b175f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the publish status.  <br /></td></tr>
<tr class="separator:a7180b4eb6f0dd55e0877654c4a5b175f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a687afe334e36c82ee9d9330424fe826d" id="r_a687afe334e36c82ee9d9330424fe826d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">PublishObjectStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a687afe334e36c82ee9d9330424fe826d">PublishObject</a> (const <a class="el" href="structmoq_1_1_object_headers.html">ObjectHeaders</a> &amp;object_headers, <a class="el" href="namespacemoq.html#ab303fd3ef64c30c643a089f4cf17d219">BytesSpan</a> data)</td></tr>
<tr class="memdesc:a687afe334e36c82ee9d9330424fe826d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish [full] object.  <br /></td></tr>
<tr class="separator:a687afe334e36c82ee9d9330424fe826d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb4a486c37ab16be4436150e14c0d5b6" id="r_adb4a486c37ab16be4436150e14c0d5b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">PublishObjectStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb4a486c37ab16be4436150e14c0d5b6">PublishPartialObject</a> (const <a class="el" href="structmoq_1_1_object_headers.html">ObjectHeaders</a> &amp;object_headers, <a class="el" href="namespacemoq.html#ab303fd3ef64c30c643a089f4cf17d219">BytesSpan</a> data)</td></tr>
<tr class="memdesc:adb4a486c37ab16be4436150e14c0d5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish object to the announced track.  <br /></td></tr>
<tr class="separator:adb4a486c37ab16be4436150e14c0d5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aae49339b5e238a4348e2ce016c9d912c" id="r_aae49339b5e238a4348e2ce016c9d912c"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr&lt; <a class="el" href="classmoq_1_1_publish_track_handler.html">PublishTrackHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae49339b5e238a4348e2ce016c9d912c">Create</a> (const FullTrackName &amp;full_track_name, TrackMode track_mode, uint8_t default_priority, uint32_t default_ttl)</td></tr>
<tr class="memdesc:aae49339b5e238a4348e2ce016c9d912c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a shared Publish track handler.  <br /></td></tr>
<tr class="separator:aae49339b5e238a4348e2ce016c9d912c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9933b1b4c7a144f379b5f8f5adc97aa3" id="r_a9933b1b4c7a144f379b5f8f5adc97aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmoq_1_1_publish_track_metrics.html">PublishTrackMetrics</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9933b1b4c7a144f379b5f8f5adc97aa3">publish_track_metrics_</a></td></tr>
<tr class="memdesc:a9933b1b4c7a144f379b5f8f5adc97aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish metrics for the track.  <br /></td></tr>
<tr class="separator:a9933b1b4c7a144f379b5f8f5adc97aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MOQ track handler for published track. </p>
<p>MOQ publish track handler defines all track related callbacks and functions for publish. Track handler operates on a single track (namespace + name).</p>
<p>This extends the base track handler to add publish (aka send) handling </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a30b4175fceffdb5445858f6c0b3b5b02" name="a30b4175fceffdb5445858f6c0b3b5b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b4175fceffdb5445858f6c0b3b5b02">&#9670;&#160;</a></span>PublishObjectStatus</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">moq::PublishTrackHandler::PublishObjectStatus</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publish status codes. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02ae69fa9a656f76dd8a4d89f21992b2d3a" name="a30b4175fceffdb5445858f6c0b3b5b02ae69fa9a656f76dd8a4d89f21992b2d3a"></a>kOk&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02afcd417a134c251034b0d61b07c826394" name="a30b4175fceffdb5445858f6c0b3b5b02afcd417a134c251034b0d61b07c826394"></a>kInternalError&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a94d644150606feeb2501ae2801a617ed" name="a30b4175fceffdb5445858f6c0b3b5b02a94d644150606feeb2501ae2801a617ed"></a>kNotAuthorized&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a0aacc8d02db06999d93256fad11a0f91" name="a30b4175fceffdb5445858f6c0b3b5b02a0aacc8d02db06999d93256fad11a0f91"></a>kNotAnnounced&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a029c756c36d0d64ad37d82fdd25135ad" name="a30b4175fceffdb5445858f6c0b3b5b02a029c756c36d0d64ad37d82fdd25135ad"></a>kNoSubscribers&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a7f270eac08c2051777675fb3d19c4907" name="a30b4175fceffdb5445858f6c0b3b5b02a7f270eac08c2051777675fb3d19c4907"></a>kObjectPayloadLengthExceeded&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a8a8092b44ca2f3d0e02013ab991d0ec2" name="a30b4175fceffdb5445858f6c0b3b5b02a8a8092b44ca2f3d0e02013ab991d0ec2"></a>kPreviousObjectTruncated&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a05b3e664bc3465982f33d4a02e0e903b" name="a30b4175fceffdb5445858f6c0b3b5b02a05b3e664bc3465982f33d4a02e0e903b"></a>kNoPreviousObject&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a9a145f4e212bb020d888fa7df22c92b3" name="a30b4175fceffdb5445858f6c0b3b5b02a9a145f4e212bb020d888fa7df22c92b3"></a>kObjectDataComplete&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a161afdbbfaed9cf4e4c14abc4f3a7cf7" name="a30b4175fceffdb5445858f6c0b3b5b02a161afdbbfaed9cf4e4c14abc4f3a7cf7"></a>kObjectContinuationDataNeeded&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a29bc6ab59d21091c424ae5e9a036b1b3" name="a30b4175fceffdb5445858f6c0b3b5b02a29bc6ab59d21091c424ae5e9a036b1b3"></a>kObjectDataIncomplete&#160;</td><td class="fielddoc"><p><a class="el" href="#a687afe334e36c82ee9d9330424fe826d" title="Publish [full] object.">PublishObject()</a> was called when continuation data remains. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02aa6997d7faf893c343835acd339b724d3" name="a30b4175fceffdb5445858f6c0b3b5b02aa6997d7faf893c343835acd339b724d3"></a>kObjectDataTooLarge&#160;</td><td class="fielddoc"><p>Indicates that the published object data is too large based on the object header payload size plus any/all data that was sent already. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02ac87ef4310cf44057c582f1fdb9e9eb1d" name="a30b4175fceffdb5445858f6c0b3b5b02ac87ef4310cf44057c582f1fdb9e9eb1d"></a>kPreviousObjectNotCompleteMustStartNewGroup&#160;</td><td class="fielddoc"><p>Previous object payload has not been completed and new object cannot start in per-group track mode unless new group is used. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30b4175fceffdb5445858f6c0b3b5b02a9c12d1b02e769f07c2b4f43ca50b02d5" name="a30b4175fceffdb5445858f6c0b3b5b02a9c12d1b02e769f07c2b4f43ca50b02d5"></a>kPreviousObjectNotCompleteMustStartNewTrack&#160;</td><td class="fielddoc"><p>Previous object payload has not been completed and new object cannot start in per-track track mode without creating a new track. This requires to unpublish and to publish track again. </p>
</td></tr>
</table>

</div>
</div>
<a id="a95430826d3fdcf1d3bd249af5c6236ab" name="a95430826d3fdcf1d3bd249af5c6236ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95430826d3fdcf1d3bd249af5c6236ab">&#9670;&#160;</a></span>Status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">moq::PublishTrackHandler::Status</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Status codes for the publish track. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236abab8c5bbba307a5b38f6a1474fbf23dddd" name="a95430826d3fdcf1d3bd249af5c6236abab8c5bbba307a5b38f6a1474fbf23dddd"></a>kOK&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236aba32a54fa8629fe6e9cb3e265e959258d8" name="a95430826d3fdcf1d3bd249af5c6236aba32a54fa8629fe6e9cb3e265e959258d8"></a>kNotConnected&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236aba0aacc8d02db06999d93256fad11a0f91" name="a95430826d3fdcf1d3bd249af5c6236aba0aacc8d02db06999d93256fad11a0f91"></a>kNotAnnounced&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236abad16e5c0773211b3d591e160d6e4dfbce" name="a95430826d3fdcf1d3bd249af5c6236abad16e5c0773211b3d591e160d6e4dfbce"></a>kPendingAnnounceResponse&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236abac1e877c9c6c8271ff158221905113d7b" name="a95430826d3fdcf1d3bd249af5c6236abac1e877c9c6c8271ff158221905113d7b"></a>kAnnounceNotAuthorized&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236aba029c756c36d0d64ad37d82fdd25135ad" name="a95430826d3fdcf1d3bd249af5c6236aba029c756c36d0d64ad37d82fdd25135ad"></a>kNoSubscribers&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a95430826d3fdcf1d3bd249af5c6236aba6473b74b448bc158ffb66542042c88b3" name="a95430826d3fdcf1d3bd249af5c6236aba6473b74b448bc158ffb66542042c88b3"></a>kSendingUnannounce&#160;</td><td class="fielddoc"><p>In this state, callbacks will not be called. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae49339b5e238a4348e2ce016c9d912c" name="aae49339b5e238a4348e2ce016c9d912c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae49339b5e238a4348e2ce016c9d912c">&#9670;&#160;</a></span>Create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::shared_ptr&lt; <a class="el" href="classmoq_1_1_publish_track_handler.html">PublishTrackHandler</a> &gt; moq::PublishTrackHandler::Create </td>
          <td>(</td>
          <td class="paramtype">const FullTrackName &amp;</td>          <td class="paramname"><span class="paramname"><em>full_track_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TrackMode</td>          <td class="paramname"><span class="paramname"><em>track_mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>default_priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>default_ttl</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a shared Publish track handler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">full_track_name</td><td>Full track name </td></tr>
    <tr><td class="paramname">track_mode</td><td>The track mode to operate using </td></tr>
    <tr><td class="paramname">default_priority</td><td>Default priority for objects if not specified in ObjectHeaderss </td></tr>
    <tr><td class="paramname">default_ttl</td><td>Default TTL for objects if not specified in ObjectHeaderss </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7180b4eb6f0dd55e0877654c4a5b175f" name="a7180b4eb6f0dd55e0877654c4a5b175f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7180b4eb6f0dd55e0877654c4a5b175f">&#9670;&#160;</a></span>GetStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">Status</a> moq::PublishTrackHandler::GetStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the publish status. </p>
<dl class="section return"><dt>Returns</dt><dd>Status of publish </dd></dl>

</div>
</div>
<a id="a360e359a5ad9c709008d754b2131f205" name="a360e359a5ad9c709008d754b2131f205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a360e359a5ad9c709008d754b2131f205">&#9670;&#160;</a></span>MetricsSampled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void moq::PublishTrackHandler::MetricsSampled </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmoq_1_1_publish_track_metrics.html">PublishTrackMetrics</a> &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>metrics</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notification callback to provide sampled metrics. </p>
<p>Callback will be triggered on <a class="el" href="structmoq_1_1_config.html#aad6de0f066fe064a92ed07e928534085">Config::metrics_sample_ms</a> to provide the sampled data based on the sample period. After this callback, the period/sample based metrics will reset and start over for the new period.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">metrics</td><td>Copy of the published metrics for the sample period </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a687afe334e36c82ee9d9330424fe826d" name="a687afe334e36c82ee9d9330424fe826d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a687afe334e36c82ee9d9330424fe826d">&#9670;&#160;</a></span>PublishObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">PublishObjectStatus</a> moq::PublishTrackHandler::PublishObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmoq_1_1_object_headers.html">ObjectHeaders</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>object_headers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemoq.html#ab303fd3ef64c30c643a089f4cf17d219">BytesSpan</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish [full] object. </p>
<p>Publish a full object. If not announced, it will be announced. Status will indicate if there are no subscribers. In this case, the object will not be sent.</p>
<dl class="section note"><dt>Note</dt><dd>If data is less than <a class="el" href="structmoq_1_1_object_headers.html#a8c04a3b5c3957855d3614a1c8e490034" title="Length of payload of the object data.">ObjectHeaders::payload_length</a>, the error kObjectDataIncomplete will be returned and the object will not be sent.</dd></dl>
<p><b>Restrictions:</b></p><ul>
<li>This method cannot be called twice with the same object header group and object IDs.</li>
<li>In TrackMode::kStreamPerGroup, <a class="el" href="structmoq_1_1_object_headers.html#a1b131665ac4e7e3eb5cc35439b00ab21" title="Object group ID - Should be derived using time in microseconds.">ObjectHeaders::group_id</a> <b>MUST</b> be different than the previous when calling this method when the previous has not been completed yet using PublishContinuationData(). If group id is not different, the PublishStatus::kPreviousObjectNotCompleteMustStartNewGroup will be returned and the object will not be sent. If new group ID is provided, then the previous object will terminate with stream closure, resulting in the previous being truncated.</li>
<li>In TrackMode::kStreamPerTrack, this method <b>CANNOT</b> be called until the previous object has been completed using PublishContinuationData(). Calling this method before completing the previous object remaining data will result in PublishStatus::kObjectDataIncomplete. No data would be sent and the stream would remain unchanged. It is expected that the caller would send the remaining continuation data.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object_headers</td><td>Object headers, must include group and object Ids </td></tr>
    <tr><td class="paramname">data</td><td>Full complete payload data for the object</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Publish status of the publish </dd></dl>

</div>
</div>
<a id="adb4a486c37ab16be4436150e14c0d5b6" name="adb4a486c37ab16be4436150e14c0d5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4a486c37ab16be4436150e14c0d5b6">&#9670;&#160;</a></span>PublishPartialObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a30b4175fceffdb5445858f6c0b3b5b02">PublishObjectStatus</a> moq::PublishTrackHandler::PublishPartialObject </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmoq_1_1_object_headers.html">ObjectHeaders</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>object_headers</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacemoq.html#ab303fd3ef64c30c643a089f4cf17d219">BytesSpan</a></td>          <td class="paramname"><span class="paramname"><em>data</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish object to the announced track. </p>
<p>Publish a partial object. If not announced, it will be announced. Status will indicate if there are no subscribers. In this case, the object will not be sent.</p>
<p><b>Restrictions:</b></p><ul>
<li>In TrackMode::kStreamPerGroup, /group_id <b>MUST</b> be different than the previous when calling this method when the previous has not been completed yet using PublishContinuationData(). If group id is not different, the PublishStatus::kPreviousObjectNotCompleteMustStartNewGroup will be returned and the object will not be sent. If new group ID is provided, then the previous object will terminate with stream closure, resulting in the previous being truncated.</li>
<li>In TrackMode::kStreamPerTrack, this method <b>CANNOT</b> be called until the previous object has been completed using PublishContinuationData(). Calling this method before completing the previous object remaining data will result in PublishStatus::kObjectDataIncomplete. No data would be sent and the stream would remain unchanged. It is expected that the caller would send the remaining continuation data.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If data is less than <a class="el" href="structmoq_1_1_object_headers.html#a8c04a3b5c3957855d3614a1c8e490034" title="Length of payload of the object data.">ObjectHeaders::payload_length</a>, then <a class="el" href="#a687afe334e36c82ee9d9330424fe826d" title="Publish [full] object.">PublishObject()</a> should be called to send the remaining data.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object_headers</td><td>Object headers, must include group and object Ids </td></tr>
    <tr><td class="paramname">data</td><td>Payload data for the object, must be &lt;= object_headers.payload_length</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Publish status of the publish<ul>
<li>PublishStatus::kObjectContinuationDataNeeded if the object payload data is not completed but it was sent,</li>
<li>PublishStatus::kObjectDataComplete if the object data was sent and the data is complete,</li>
<li>other PublishStatus </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a3b42ae4e15ba1442d1a9e7a364be6e35" name="a3b42ae4e15ba1442d1a9e7a364be6e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b42ae4e15ba1442d1a9e7a364be6e35">&#9670;&#160;</a></span>SetDefaultPriority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void moq::PublishTrackHandler::SetDefaultPriority </td>
          <td>(</td>
          <td class="paramtype">const uint8_t</td>          <td class="paramname"><span class="paramname"><em>priority</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set/update the default priority for published objects </p>

</div>
</div>
<a id="a3dcd70557b7316eb90a55a5c7d711c12" name="a3dcd70557b7316eb90a55a5c7d711c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dcd70557b7316eb90a55a5c7d711c12">&#9670;&#160;</a></span>SetDefaultTTL()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void moq::PublishTrackHandler::SetDefaultTTL </td>
          <td>(</td>
          <td class="paramtype">const uint32_t</td>          <td class="paramname"><span class="paramname"><em>ttl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set/update the default TTL expiry for published objects </p>

</div>
</div>
<a id="a43781943bf95f82a6891f0cadbe105ed" name="a43781943bf95f82a6891f0cadbe105ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43781943bf95f82a6891f0cadbe105ed">&#9670;&#160;</a></span>StatusChanged()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void moq::PublishTrackHandler::StatusChanged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a95430826d3fdcf1d3bd249af5c6236ab">Status</a></td>          <td class="paramname"><span class="paramname"><em>status</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notification of publish track status change. </p>
<p>Notification of a change to publish track status, such as when it's ready to publish or not ready to publish</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">status</td><td>Indicates the status of being able to publish </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9933b1b4c7a144f379b5f8f5adc97aa3" name="a9933b1b4c7a144f379b5f8f5adc97aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9933b1b4c7a144f379b5f8f5adc97aa3">&#9670;&#160;</a></span>publish_track_metrics_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmoq_1_1_publish_track_metrics.html">PublishTrackMetrics</a> moq::PublishTrackHandler::publish_track_metrics_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish metrics for the track. </p>
<p>Publish metrics are updated real-time and transport quic metrics on metrics_sample_ms period. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/moq/<a class="el" href="publish__track__handler_8h_source.html">publish_track_handler.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacemoq.html">moq</a></li><li class="navelem"><a class="el" href="classmoq_1_1_publish_track_handler.html">PublishTrackHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
